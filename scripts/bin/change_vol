#!/usr/bin/env zsh
#
# Simple volume change wrapper used by sway
###

function help() {
<<EOF
Usage: change_vol <option>

Where option is either 'toggle' to mute/unmute or the percentage to
raise/lower the volume in the form of 5+ or 5-.
EOF
}

case $1 in
    toggle)
        pamixer --toggle-mute;;
    <->+|+<->)
        pamixer -ui "${1//+/}";;
    <->-|-<->)
        pamixer -ud "${1//-/}";;
    *)
        help;;
esac

if [[ $(pamixer --get-mute) == "true" ]]; then
    echo 0
else
    pamixer --get-volume
fi
